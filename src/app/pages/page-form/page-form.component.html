
<!-- 
<ul *ngIf="spots">
  <li *ngFor="let spot of spots">
    {{spot.name}}
  </li>
</ul> -->

<a [routerLink]="['/list-all']">List of all spots created</a>

<form (ngSubmit)="submitForm(myForm)" #myForm="ngForm" *ngIf="formReady" novalidate>

    <div class="field">
        <label>Location</label>
        <app-map-auto-complete (onSelect)="handleLocationSelect($event)" ></app-map-auto-complete>
      </div>

    <div class="field">
      <label>District</label>
      <app-form-select [items]="selectors.district" [selected]="spot.district" (onChange)="handleSelectorChange('district', $event)" [max]="1"></app-form-select>
    </div>
    
    <div class="field">
      <label>Situation</label>
      <app-form-select [items]="selectors.situation" [selected]="spot.situation" (onChange)="handleSelectorChange('situation', $event)"></app-form-select>
    </div>
    
    <div class="field">
      <label>Price</label>
      <app-form-select [items]="selectors.price" [selected]="spot.price" (onChange)="handleSelectorChange('price', $event)" [max]="1"></app-form-select>
    </div>

    <div class="field">
      <label>vibe</label>
      <app-form-select [items]="selectors.vibe" [selected]="spot.vibe" (onChange)="handleSelectorChange('vibe', $event)"></app-form-select>
    </div>

    <div class="field">
      <label>Categories</label>
      <app-form-select [items]="selectors.categories" [selected]="spot.categories" (onChange)="handleSelectorChange('categories', $event)"></app-form-select>
    </div>

    <div class="field">
      <label>tags</label>
      <app-form-select [items]="selectors.tags" [selected]="spot.tags" (onChange)="handleSelectorChange('tags', $event)"></app-form-select>
    </div>
    
    <div class="field">
      <label>description</label>
      <textarea name="description" [(ngModel)]="spot.description" #myDescription="ngModel" id="description" cols="100" rows="5"></textarea>
    </div>

    <div class="field">
      <label>Webpage</label>
      <input type="text" name="webpage" [(ngModel)]="spot.links.webpage"/>
      <label>Facebook</label>
      <input type="text" name="facebook" [(ngModel)]="spot.links.facebook"/>
      <label>Google Maps (automatically filled in from the maps-module!)</label>
      <input type="text" name="googleMaps" [(ngModel)]="spot.links.googleMaps"/>
      <label>Instagram</label>
      <input type="text" name="instagram" [(ngModel)]="spot.links.instagram"/>
    </div>
    
    <div class="field">
      <div class="image-preview" *ngIf="spot.images">
        <img *ngFor="let image of spot.images" src="https://instagram.com/p/{{image}}/media/?size=t" alt=""> 
      </div>
      <label>Image-Shortcode (e.g. https://www.instagram.com/p/<span>BcHIEddFgR0</span>/?taken-at=220848020</label>
      <input type="text" name="image" [(ngModel)]="spot.images[0]"/>
      <input type="text" name="image" [(ngModel)]="spot.images[1]"/>
      <input type="text" name="image" [(ngModel)]="spot.images[2]"/>
    </div>


    
  
    <div class="field submit">
      <button type="submit" [disabled]="processing">Create Spot</button>
      <div *ngIf="feedbackEnabled && myForm.invalid">
        <p class="validation">there are errors in the form, please review the fields</p>
      </div>
    </div>
  </form>
